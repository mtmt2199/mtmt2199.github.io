--- 
layout: default
title:  "架空VMWare新人エンジニア日記"
---

## {{ page.title }}

 [戻る]({{ site.url }}) 

### 1日目: 恐る恐る vSphere Clientに触れる
今日からVMwareの運用保守が始まった。未経験での配属でドキドキだ。さっそく、先輩から作業用PCを案内され、「このサーバを停止してくれ」と具体的な指示をされた。

言われた通り、PCから**vCenter Server**の**vSphere Client**にアクセス。画面には何十台もの仮想マシン（VM）が並んでいる。これが100台規模の環境か...。先輩に教えられた通り、VMを検索し、右クリックから「シャットダウン」を実行。画面上での直感的な操作だったけど、一瞬たりとも気が抜けなかった。何がどこにあるか、一つずつ覚えていこう。

---

### 2日目: 仮想基盤の全体像を理解する
昨日の作業で少し自信がついた。今日は、VMware環境の全体像について先輩からレクチャーを受けた。
まず、VMが動いている物理サーバーは、それぞれ**ESXiホスト**と呼ばれているらしい。僕の担当する環境では、**数台のESXiホストが、合計100台のVMを動かしている**。なるほど、だから物理サーバーは100台もいらないんだな。

次に、これらのESXiホストは**vSphereクラスタ**としてグループ化され、**vCenter Server**が一括管理しているとのこと。このクラスタ構成のおかげで、ホストに障害が起きてもVMが自動で別のホストに移動する**HA（High Availability）**や、負荷を自動で分散する**DRS（Distributed Resource Scheduler）**といった高度な機能が使えるそうだ。これらの機能が、僕の知らないところでインフラの安定を守っているんだ。

---

### 3日目: 見えないネットワークとストレージの謎を解く
今日はVMのネットワークとストレージについて学んだ。vSphereの仮想ネットワークには、ホストごとに設定する**Standard Switch（VSS）**と、クラスタ全体を一元管理する**Distributed Switch（VDS）**の2種類がある。うちの環境は大規模だから、VDSが使われているらしい。先輩曰く、複雑な物理配線を**単一の、論理的なネットワーク**としてシンプルに管理できるので、運用が楽なんだとか。

ストレージも同様に、各ホストのディスクをまとめて1つの共有ストレージにする**vSAN（ブイサン）**というHCI（ハイパーコンバージドインフラ）の仕組みも教えてもらった。こうすることで、物理的なストレージ機器がなくても、サーバーを追加するだけで容量も増やせるらしい。なるほど、インフラの簡素化と拡張性を両立する考え方か。

---

### 4日目: 自動化と監視の重要性を知る
先輩がPowerShellを使い、VMの一括操作をしているのを見て驚いた。あれが噂の**PowerCLI**か。スクリプトに**「べき等性」**という考え方を取り入れると、何度実行しても同じ結果になるので、とても安全だという。
例えば、VMを起動するスクリプトは、VMがすでに起動していてもエラーにならない。さらに、スクリプト実行前には必ず、対象となるVMを一覧表示して、Dry-Runで確認する機能も組み込まれている。こういう安全策が大規模運用では不可欠なんだなと実感した。

障害監視についても、VMwareの監視機能だけでなく、**業務ロジック**まで含めて監視できる専用ツールが導入されていることを知った。インフラの健全性だけでなく、サービス全体を見渡す視点が求められることを学んだ。

---

### 5日目: 次のステップと今後の目標
VMwareの運用は、ただVMを管理するだけじゃなく、ネットワーク、ストレージ、自動化、監視など、幅広い知識が求められることが分かった。特に、**VDS**や**vSAN**のような、物理的な複雑さを抽象化する技術は、今後のインフラを考える上で重要になりそうだ。

今後、PowerCLIのスクリプトを読み解き、自分で書けるようになること、そして監視ツールのアラートを分析し、根本原因を特定できるようになることが当面の目標だ。まずは、日々の運用業務を通して、一つひとつの機能を深く理解していくぞ。

**今日も一日、お疲れ様でした！** 📝


 [「なっくるすきるす」ホームに戻る]({{ site.url }}) 
